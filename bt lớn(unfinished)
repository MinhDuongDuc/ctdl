#include<iostream>
#include<string>
#include<vector>
using namespace std;

struct TTsach
{
	
	string tenSach;
	int maSach;
	string tenNXB;

	TTsach(string ten= " ",string nxb = " ")
	{
		tenSach = ten;
		tenNXB = nxb;
	}
	int getMaSach()
	{
		return maSach;
	}
	
	void nhapttSach()
	{
		cout << "Ten sach: ";cin >> tenSach;
		cout << "Ma sach: ";cin >> maSach;
		cout << "NXB: ";cin >> tenNXB;
	}
	void xuatttSach()
	{
		cout << "========================================================" << endl;
		cout << "                      Thong tin sach                    " << endl;
		cout << "Ten sach: " << tenSach << endl;
		cout << "Ma sach: " << maSach << endl;
		cout << "NXB: " << tenNXB << endl;
	}
};

class ThuVien
{
public:
	ThuVien(int size = 101)
	{
		table = new TTsach[size];
		trong = new bool[size];
		tableSize = size;
		for (int i = 0;i < size;i++)
			trong[size] == true;
	}
	~ThuVien()
	{
		delete[]table;
		delete[]trong;
	}
	void chenSach(TTsach tt)
	{
		int index = hash(tt.tenSach);
		while (!trong[index])
		{
			index++;
			index = index % tableSize;
		}
		table[index] = tt;
		trong[index] = false;
	}
private:
	TTsach * table;
	int tableSize;
	bool * trong ;
	int hash(string tenSach)
	{
		int hashVal = 0;
		for (int i = 0;i<tenSach.size();i++)
		{
			hashVal++;
			hashVal += tenSach[i];
			return hashVal % tableSize;
		}
	}
};

void menu()
{
	ThuVien tv(101);
	int const a = 100;
	TTsach sach[a];
	int luachon ,dem = 0;
	cout << "=====================================" << endl;
	cout << "                 MENU             " << endl;
	cout << "=====================================" << endl;
	cout << "1.Nhap thong tin sach moi" << endl;
	cout << "2.Hien thi thong tin sach dang co." << endl;
	cout << "3.Xoa thong tin sach" << endl;
	cout << "4.Chinh sua thong tin sach" << endl;
	cout << "5.Thoat" << endl;

	do
	{
	cout << "Nhap lua chon: ";cin >> luachon;
		switch (luachon)
		{
		case 1:
			sach[dem].nhapttSach();
			tv.chenSach(sach[dem]);
			dem++;
			break;
		case 2:
			for (int i = 0;i < dem;i++)
			{
				sach[i].xuatttSach();
			}
			break;
		case 3:

			break;
		case 4:
			break;
		default:
			break;
		}
	}
	while (luachon != 5);
}

int main()
{

	menu();

	system("pause");
	return 0;
	
}
